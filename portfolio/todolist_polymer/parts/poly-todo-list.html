<link rel='import' href='/bower_components/polymer/polymer.html'>

<dom-module id='poly-todo'>
  <style >
    .center-block{
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
  <template>
    <input class="center-block" autofocus value='{{todoValue::input}}' on-keyup='addTodo' />
    <dd class="">
      <template is='dom-repeat' items='{{todoList}}'>
        <dl class="">{{item}}</dl>
      </template>
    </dd>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'poly-todo'
    ,properties: {
      todoValue: String
      ,todoList: Array
    }
    ,addTodo: function(eve){
      console.info(this.todoValue)
      var _key= eve.keyCode|| eve.which
      if(_key== 13&& this.todoValue){
        this.push('todoList', this.todoValue|| '')
        this.todoValue= undefined
      }
    }
    ,ready: function(){
      var self= this
      console.info(self)
      this.todoValue= undefined
//      self.querySelector('input').addEventListener('keyup', function(eve){
//        if(eve.keyCode== 13|| eve.which== 13){
//          console.info(eve, self)
//          self.todoList.push(self.todoValue)
//        }
//      })
      this.todoList= [3,2,1]
//      self.listen(self.querySelector('input'), 'keyup', 'addTodo')
      this.pop= function(eve){
        console.info(eve)
      }
    }
    ,update: function(v, vv){
      console.info(v, vv)
      console.info(this)
    }
  })
</script>
