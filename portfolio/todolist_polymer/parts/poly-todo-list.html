<link rel='import' href='/bower_components/polymer/polymer.html'>

<dom-module id='poly-todo'>
  <style >
    .center-block{
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
  <template>
    <input class="center-block" value$='{{todoValue}}' />
    <dd class="">
      <template is='dom-repeat' items='[[todoList]]'>
        <dl class="">{{item}}</dl>
      </template>
    </dd>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'poly-todo'
    ,properties: {
      todoValue: String
      ,todoList: Array
    }
    ,addTodo: function(obj){
      this.push('todoList', obj|| this.todoValue|| '')
    }
    ,ready: function(){
      var self= this
      console.info(self)
//      self.querySelector('input').addEventListener('keyup', function(eve){
//        if(eve.keyCode== 13|| eve.which== 13){
//          console.info(eve, self)
//          self.todoList.push(self.todoValue)
//        }
//      })
      this.set('todoList', [3,2,1])
      self.listen(self.querySelector('input'), 'keyup', 'addTodo')
      this.pop= function(eve){
        console.info(eve)
      }
    }
    ,update: function(v, vv){
      console.info(v, vv)
    }
  })
</script>
